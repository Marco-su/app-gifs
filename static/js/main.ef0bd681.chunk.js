(this["webpackJsonpapp-gifs"]=this["webpackJsonpapp-gifs"]||[]).push([[0],{34:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){},62:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(28),s=n.n(a),i=(n(34),n(35),n(8)),u=n(2),o=n(3),j=(n(36),n(1)),l=function(t){var e=t.id,n=t.src,c=t.alt;return Object(j.jsx)("figure",{className:"gif-container",children:Object(j.jsx)(i.b,{to:"/gif/".concat(e),children:Object(j.jsx)("img",{className:"gif-image img-thumbnail",src:n,alt:c})})})},f=Object(c.memo)(l),b=n(10),d=n.n(b),O=n(13),h=n(14),m=n.n(h),x="https://api.giphy.com/v1/",p="api_key=FGiquhH5DDjcjIZkZL2zxIA9UqXnGR3A",g=function(){var t=Object(O.a)(d.a.mark((function t(e,n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m()({url:"".concat(x,"gifs/search?").concat(p,"&q=").concat(e,"&limit=20&offset=").concat(20*n,"&rating=g&lang=en")});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),v=function(){var t=Object(O.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m()({url:"".concat(x,"gifs/trending?").concat(p,"&limit=20&rating=g")});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=function(){var t=Object(O.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m()({url:"".concat(x,"gifs/").concat(e,"?").concat(p)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(O.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m()({url:"".concat(x,"trending/searches?").concat(p)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=Object(c.useState)([]),e=Object(o.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(null),s=Object(o.a)(a,2),i=s[0],u=s[1];return Object(c.useEffect)((function(){var t=new AbortController;return v().then((function(t){return r(t.data.data)})).catch((function(t){return u(t)})),function(){return t.abort()}}),[]),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"loaded-gifs col-md-10 offset-md-1",children:i?Object(j.jsx)("span",{className:"error-loading-gifs",children:"Error loading gifs."}):n.map((function(t){return Object(j.jsx)(f,{id:t.id,src:t.images.fixed_width.url,alt:t.title},t.id)}))})})},y=(n(62),function(){var t=Object(c.useRef)(),e=Object(u.f)().term,n=Object(c.useState)([]),r=Object(o.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(0),l=Object(o.a)(i,2),b=l[0],d=l[1],O=Object(c.useState)(!1),h=Object(o.a)(O,2),m=h[0],x=h[1],p=Object(c.useState)(!1),v=Object(o.a)(p,2),N=v[0],w=v[1],S=Object(c.useState)(e),y=Object(o.a)(S,2),E=y[0],k=y[1],I=Object(c.useState)(null),A=Object(o.a)(I,2),q=A[0],C=A[1],_=function(t,e){var n=Object(c.useState)(!1),r=Object(o.a)(n,2),a=r[0],s=r[1],i=function(t,e){t[0].isIntersecting?s(!0):s(!1)};return Object(c.useEffect)((function(){t&&e&&new IntersectionObserver(i,{rootMargin:"0px"}).observe(t.current)}),[t,e]),a}(t,m);return E!==e&&(s([]),k(e)),Object(c.useEffect)((function(){var t=new AbortController;return x(!1),g(e,b).then((function(t){s((function(e){return e.concat(t.data.data)})),setTimeout((function(){x(!0),t.data.data.length<20?w(!1):w(!0)}),1e3)})).catch((function(t){C(t),x(!1)})),function(){return t.abort()}}),[e,b]),Object(c.useEffect)((function(){_&&m&&N&&(d((function(t){return t+1})),w(!1))}),[_,m,N]),Object(j.jsxs)("div",{id:"gifs-list",children:[Object(j.jsx)("h3",{className:"term",children:e}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"loaded-gifs col-md-10 offset-md-1",children:q?Object(j.jsx)("span",{className:"error-loading-gifs",children:"Error loading gifs"}):a.map((function(t){return Object(j.jsx)(f,{id:t.id,src:t.images.fixed_width.url,alt:t.title},t.id)}))})}),0===a.length&&m?Object(j.jsx)("h3",{className:"h4 mt-4 text-center",children:"Sorry, no gifs were found for your search."}):null,Object(j.jsx)("div",{ref:t})]})}),E=function(){return Object(j.jsx)("div",{id:"error-404",children:Object(j.jsx)("h2",{className:"text-center",children:"Error 404: page not found"})})},k=(n(63),function(){var t=Object(c.useState)({}),e=Object(o.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(null),s=Object(o.a)(a,2),i=s[0],l=s[1],f=Object(u.f)().gifId;return Object(c.useEffect)((function(){var t=new AbortController;return N(f).then((function(t){return r(t.data.data)})).catch((function(t){l(!0),console.log(t)})),function(){return t.abort()}}),[f]),Object(j.jsxs)("div",{id:"single-gif",children:[n.id?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{className:"mb-4 h4",children:n.title}),Object(j.jsx)("figure",{children:Object(j.jsx)("img",{src:n.images.downsized_large.url,alt:n.title})})]}):null,i?Object(j.jsx)("span",{className:"error-loading-gifs",children:"Error loading this gif."}):null]})}),I=function(){return Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{exact:!0,path:["/","/app-gifs"],component:S}),Object(j.jsx)(u.a,{path:"/search/:term",component:y}),Object(j.jsx)(u.a,{path:"/gif/:gifId",component:k}),Object(j.jsx)(u.a,{path:"*",component:E})]})},A=(n(64),function(){var t=Object(c.useState)([]),e=Object(o.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(null),s=Object(o.a)(a,2),u=s[0],l=s[1];return Object(c.useEffect)((function(){w().then((function(t){return r(t.data.data)})).catch((function(t){return l(t)}))}),[]),Object(j.jsx)("div",{id:"trending-terms",children:u?null:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h4",{children:"Trending"}),Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsx)("ul",{className:"list-inline",children:n.map((function(t){return Object(j.jsx)("li",{className:"list-inline-item my-1",children:Object(j.jsx)(i.b,{className:"term text-decoration-none rounded-1",to:"/search/".concat(t),children:t})},t)}))})})]})})}),q=(n(65),function(){return Object(j.jsx)("header",{id:"main-header",className:"text-center py-2 mb-2",children:Object(j.jsx)(i.b,{className:"text-decoration-none h1",to:"/",children:"Many Gifs"})})}),C=(n(66),Object(u.g)((function(t){var e=t.history,n=Object(c.useState)(""),r=Object(o.a)(n,2),a=r[0],s=r[1];return Object(j.jsx)("div",{id:"search-form",children:Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.push("/search/".concat(a))},children:[Object(j.jsx)("input",{className:"form-control mb-3",type:"search",placeholder:"Search...",onChange:function(t){return s(t.target.value)},required:!0}),Object(j.jsx)("button",{className:"btn btn-success mb-3",children:Object(j.jsx)("i",{className:"fas fa-search"})})]})})})));var _=function(){return Object(j.jsx)(i.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(q,{}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(A,{}),Object(j.jsx)(C,{}),Object(j.jsx)(I,{})]})]})})};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(_,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.ef0bd681.chunk.js.map