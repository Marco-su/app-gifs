(this["webpackJsonpapp-gifs"]=this["webpackJsonpapp-gifs"]||[]).push([[0],{34:function(e,t,n){},36:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(28),s=n.n(a),i=(n(34),n(35),n(36),n(6)),o=n(2),u=n(3),j=n(0),l=function(e){var t=e.id,n=e.src,c=e.alt;return Object(j.jsx)("figure",{className:"gif-container",children:Object(j.jsx)(i.b,{to:"/gif/".concat(t),children:Object(j.jsx)("img",{className:"gif-image img-thumbnail",src:n,alt:c})})})},b=Object(c.memo)(l),d=n(10),f=n.n(d),h=n(13),O=n(14),m=n.n(O),x="https://api.giphy.com/v1/",p="api_key=FGiquhH5DDjcjIZkZL2zxIA9UqXnGR3A",g=function(){var e=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"".concat(x,"gifs/search?").concat(p,"&q=").concat(t,"&limit=20&offset=").concat(20*n,"&rating=g&lang=en")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"".concat(x,"gifs/trending?").concat(p,"&limit=20&rating=g")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"".concat(x,"gifs/").concat(t,"?").concat(p)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({url:"".concat(x,"trending/searches?").concat(p)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),s=Object(u.a)(a,2),i=s[0],o=s[1];return Object(c.useEffect)((function(){var e=new AbortController;return v().then((function(e){return r(e.data.data)})).catch((function(e){return o(e)})),function(){return e.abort()}}),[]),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"loaded-gifs col-md-10 offset-md-1",children:i?Object(j.jsx)("span",{className:"error-loading-gifs",children:"Error loading gifs."}):n.map((function(e){return Object(j.jsx)(b,{id:e.id,src:e.images.fixed_width.url,alt:e.title},e.id)}))})})},y=function(){var e=Object(c.useRef)(),t=Object(o.f)().term,n=Object(c.useState)([]),r=Object(u.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(0),l=Object(u.a)(i,2),d=l[0],f=l[1],h=Object(c.useState)(!1),O=Object(u.a)(h,2),m=O[0],x=O[1],p=Object(c.useState)(!1),v=Object(u.a)(p,2),N=v[0],w=v[1],S=Object(c.useState)(t),y=Object(u.a)(S,2),E=y[0],I=y[1],A=Object(c.useState)(null),k=Object(u.a)(A,2),q=k[0],C=k[1],G=function(e,t){var n=Object(c.useState)(!1),r=Object(u.a)(n,2),a=r[0],s=r[1],i=function(e,t){e[0].isIntersecting?s(!0):s(!1)};return Object(c.useEffect)((function(){e&&t&&new IntersectionObserver(i,{rootMargin:"0px"}).observe(e.current)}),[e,t]),a}(e,m);return E!==t&&(s([]),I(t)),Object(c.useEffect)((function(){var e=new AbortController;return x(!1),g(t,d).then((function(e){s((function(t){return t.concat(e.data.data)})),setTimeout((function(){x(!0),e.data.data.length<20?w(!1):w(!0)}),1e3)})).catch((function(e){C(e),x(!1)})),function(){return e.abort()}}),[t,d]),Object(c.useEffect)((function(){G&&m&&N&&(f((function(e){return e+1})),w(!1))}),[G,m,N]),Object(j.jsxs)("div",{id:"gifs-list",children:[Object(j.jsx)("h3",{className:"term",children:t}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"loaded-gifs col-md-10 offset-md-1",children:q?Object(j.jsx)("span",{className:"error-loading-gifs",children:"Error loading gifs"}):a.map((function(e){return Object(j.jsx)(b,{id:e.id,src:e.images.fixed_width.url,alt:e.title},e.id)}))})}),0===a.length&&m?Object(j.jsx)("h3",{className:"h4 mt-4 text-center",children:"Sorry, no gifs were found for your search."}):null,Object(j.jsx)("div",{ref:e})]})},E=function(){return Object(j.jsx)("div",{id:"error-404",children:Object(j.jsx)("h2",{className:"text-center",children:"Error 404: page not found"})})},I=function(){var e=Object(c.useState)({}),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),s=Object(u.a)(a,2),i=s[0],l=s[1],b=Object(o.f)().gifId;return Object(c.useEffect)((function(){var e=new AbortController;return N(b).then((function(e){return r(e.data.data)})).catch((function(e){l(!0),console.log(e)})),function(){return e.abort()}}),[b]),Object(j.jsxs)("div",{id:"single-gif",children:[n.id?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{className:"mb-4 h4",children:n.title}),Object(j.jsx)("figure",{children:Object(j.jsx)("img",{src:n.images.downsized_large.url,alt:n.title})})]}):null,i?Object(j.jsx)("span",{className:"error-loading-gifs",children:"Error loading this gif."}):null]})},A=function(){return Object(j.jsxs)("div",{className:"site-info",children:[Object(j.jsx)("h2",{className:"h4",children:"About the site"}),Object(j.jsx)("p",{children:"This site was created in ReactJS using the Giphy API, in order to show the use of calls to external API's in a practical and simple way."})]})},k=function(){return Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{exact:!0,path:["/","/app-gifs"],component:S}),Object(j.jsx)(o.a,{path:"/info",component:A}),Object(j.jsx)(o.a,{path:"/search/:term",component:y}),Object(j.jsx)(o.a,{path:"/gif/:gifId",component:I}),Object(j.jsx)(o.a,{path:"*",component:E})]})},q=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),s=Object(u.a)(a,2),o=s[0],l=s[1];return Object(c.useEffect)((function(){w().then((function(e){return r(e.data.data)})).catch((function(e){return l(e)}))}),[]),Object(j.jsx)("div",{id:"trending-terms",children:o?null:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h4",{children:"Trending"}),Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsx)("ul",{className:"list-inline",children:n.map((function(e){return Object(j.jsx)("li",{className:"list-inline-item my-1",children:Object(j.jsx)(i.b,{className:"term text-decoration-none rounded-1",to:"/search/".concat(e),children:e})},e)}))})})]})})},C=function(){return Object(j.jsxs)("nav",{id:"main-header",className:"py-2 mb-2",children:[Object(j.jsx)("div",{children:Object(j.jsx)(i.b,{className:"h3 ms-4",to:"/",children:"Many Gifs"})}),Object(j.jsx)("div",{children:Object(j.jsx)(i.b,{className:"h6 me-4",to:"/info",children:"Site Info"})})]})},G=Object(o.g)((function(e){var t=e.history,n=Object(c.useState)(""),r=Object(u.a)(n,2),a=r[0],s=r[1];return Object(j.jsx)("div",{id:"search-form",children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.push("/search/".concat(a))},children:[Object(j.jsx)("input",{className:"form-control mb-3",type:"search",placeholder:"Search...",onChange:function(e){return s(e.target.value)},required:!0}),Object(j.jsx)("button",{className:"btn btn-success mb-3",children:Object(j.jsx)("i",{className:"fas fa-search"})})]})})}));var _=function(){return Object(j.jsx)(i.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(C,{}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(q,{}),Object(j.jsx)(G,{}),Object(j.jsx)(k,{})]})]})})};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(_,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.ca5b15ba.chunk.js.map